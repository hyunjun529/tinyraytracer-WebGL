<!DOCTYPE html>
<html lang="ko">
<head>
    <title>tinyraytracer-WebGL</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <h1>tinyraytracer</h1>
    
    <div id="cvs-0-wrapper">
        <canvas id="cvs-0" width="1024" height="768"></canvas>
    </div>

    <script type="text/javascript" src="webgl-math.js"></script>
    <script type="text/javascript" src="webgl-utils.js"></script>
    <script type="text/javascript" src="webgl-setup.js"></script>

    <script>
    // Step 1: write an image to the disk
    const width = 1024;
    const height = 768;

    var frameBuffer = new FrameBuffer( width, height );

    for (var i = 0; i < height; i++) {
        for (var j = 0; j < width; j++) {
            frameBuffer.setPixel(
                i,
                j, 
                (i / height) * 256,
                (j / width) * 256,
                128,
                255
            )
        }
    }

    // Step 2, the crucial one: ray tracing
    // function Sphere(frameBuffer) {
    //     var center = [200, 200];
    //     var radius = 100.0;

    //     bool ray_intersect(const Vec3f &orig, const Vec3f &dir, float &t0) const {
    //         Vec3f L = center - orig;
    //         float tca = L*dir;
    //         float d2 = L*L - tca*tca;
    //         if (d2 > radius*radius) return false;
    //         float thc = sqrtf(radius*radius - d2);
    //         t0       = tca - thc;
    //         float t1 = tca + thc;
    //         if (t0 < 0) t0 = t1;
    //         if (t0 < 0) return false;
    //         return true;
    //     }
    // };

    // Step 3: add more spheres

    // Step 4: lighting

    // Step 5: specular lighting

    // Step 6: shadows

    // Step 7: reflections

    // Step 8: refractions

    // Steo 9: beyond the spheres

    // Step 10: home assignment

    // Rnedering
    render(frameBuffer);
    
    </script>
</body>
</html>
